//Creation of the User Table
CREATE TABLE [dbo].[UserTable] (
    [userid]      UNIQUEIDENTIFIER DEFAULT NEWID(),
    [username]    NCHAR (10)       NOT NULL,
    [password]    NVARCHAR (MAX)   NOT NULL,
    [email]       NVARCHAR (MAX)   NULL,
    [wins]        INT              NULL,
    [losses]      INT              NULL,
    [gamesplayed] INT              NULL,
    CONSTRAINT [PK_UserTable] PRIMARY KEY CLUSTERED ([userid] ASC)
);

//Creation of the Game Table
REATE TABLE [dbo].[GameTable] (
    [gameid]       UNIQUEIDENTIFIER DEFAULT NEWID(), -- new primary key
    [userid]       UNIQUEIDENTIFIER NOT NULL,        -- foreign key to UserTable
    [eventname]    NVARCHAR (MAX)   NOT NULL,
    [date]         DATE             NOT NULL,
    [opponentname] NVARCHAR (MAX)   NOT NULL,
    [result]       NVARCHAR (50)    NULL,
    [pgnfileid]    UNIQUEIDENTIFIER NOT NULL,
    CONSTRAINT [PK_GameTable] PRIMARY KEY CLUSTERED ([gameid] ASC),
    CONSTRAINT [FK_Game_User] FOREIGN KEY ([userid]) REFERENCES [UserTable]([userid])
);



//Creation of the PGNFileTable
CREATE TABLE [dbo].[PGNFileTable]
(
	[pgnfileid] UNIQUEIDENTIFIER DEFAULT NEWID(),
    [moves] NVARCHAR(MAX) NOT NULL, 
    [annotations] NVARCHAR(MAX) NULL, 
    [comments] NVARCHAR(MAX) NULL, 
    [exportstatus] NVARCHAR(50) NULL
     CONSTRAINT [PK_PGNFileTable] PRIMARY KEY CLUSTERED ([pgnfileid] ASC)
)
